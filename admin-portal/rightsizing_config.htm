<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation_Skin_SnowDocs" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="Admin Portal|[%=System.LinkedTitle%]" data-mc-conditions="General.NotForSPBuildHelp" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <meta http-equiv="Content-Style-Type" content="text/css" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" /><title>Configure Rules for VM Rightsizing</title>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <meta charset="utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Styles.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/fontAwesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/Stylesheets/roboto.font.css" rel="stylesheet" type="text/css" />
        <style>*
{
	box-sizing: border-box;
}

/* Create two columns that float next to each other */

.column
{
	
}

.column2
{
	
}

/* Clear floats after the columns */

.row:after
{
	content: "";
	display: table;
	clear: both;
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE.htc');
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.home-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/home-fa-18w.png') no-repeat center center, linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE.htc');
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE.htc');
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.next-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE.htc');
}

</style>
        <link href="../Resources/TableStyles/AccessAndAvailability.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/TableStyles/Standard.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-L05Y74KND5" async="async">
        </script>
        <script>/*<![CDATA[*/  window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

		gtag('config', 'G-L05Y74KND5');/*]]>*/</script>
        <script defer="defer" src="../Resources/Scripts/scroll_to_top_left_nav.js" type="text/javascript">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 900px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://docs.snowsoftware.com" title="Docs Portal Home" alt="Docs Portal Home"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="All Commander Docs" title="All Commander Docs" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Commander Docs</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div style="width: 100%; overflow: hidden;"><span class="hide-when-mobile"><div><div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBarPrint mc-component nocontent" style="mc-topic-toolbar-items: Print;"><div class="button-group-container-left"><button class="button needs-pie print-button" title="Print this page"><div><div role="img" class="button-icon-wrapper" aria-label="Print"><div class="button-icon"> </div></div></div></button></div></div><a href="/commander/index.htm"><div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBarHome mc-component nocontent" style="mc-topic-toolbar-items: Home;"><div class="button-group-container-left"><button class="button needs-pie home-button" title="Commander Docs Home"><div><div role="img" class="button-icon-wrapper"><div class="button-icon"> </div></div></div></button></div></div></a></div><div style="float: right; padding-right: 25px; padding-left: 25px;"><a href="https://www.snowsoftware.com" target="_blank" style="font-size: 11px; color: #606f7b;">snowsoftware.com</a>&#160;&#160;&#160;</div></span><span id="home-link"><a style="font-size: 11px;font-style: normal;color: #606f7b;" href="../index.htm">Commander</a> / </span>
                                        <div class="nocontent">
                                            <div class="MCBreadcrumbsBox_SnowDocs_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="column"> <div role="main" id="mc-main-content"><h1 id="ConfigureRulesforVMRightsizing" data-magellan-target="ConfigureRulesforVMRightsizing"><a name="aanchor51"></a><MadCap:concept term="Admin Portal" />Configure Rules for VM Rightsizing</h1><p>Commander uses a set of rules to generate rightsizing recommendations for a VM. You can customize these rules.</p><p>You can also configure different rules for different workload types through rightsizing groups. For example, you can configure distinct rules for a database and a web server, or for production and development workloads. Rightsizing groups also allow you to specify that certain workloads are never resized (such as a load balancer appliance). For each rightsizing group, you can also configure automatic or manual application of recommendations.</p><p>See <a href="rightsizing.htm" class="MCXref xref">Rightsize VMs and Instances</a> to learn how to view and apply rightsizing recommendations.</p><p>See <a href="rightsizing.htm#rightsizing" class="MCXref xref">Rightsizing and GCP</a> for details on how Commander rightsizing recommendations work differently for GCP.</p><p class="tip">Rightsizing is just one part of Commander cloud expense management. See <a href="costing.htm#getting-started-cloud-expense-management" class="MCXref xref">Get started with cloud expense management</a> to learn about other features that work together to reduce your cloud costs.</p><h2 id="Rightsizingrecommendationformulas" data-magellan-target="Rightsizingrecommendationformulas"><a name="formulas"></a>Rightsizing recommendation formulas</h2><p>By default (when <a href="#conservative" class="hreflinks">conservative rightsizing</a> is configured), memory rightsizing recommendations are between 12.5% and 25% of total memory size. For example, for VMs with between 1024 MB and 2048 MB total memory, Commander recommends a memory change of 256 MB.</p><p>When <a href="#aggressive" class="hreflinks">aggressive rightsizing</a> is configured, the formula for CPU downsizing is:</p><p class="code">(Peak CPU % * Num Cores) * Buffer
        </p><p class="Note">Aggressive rightsizing applies only to GCP, vCenter, and SCVMM VMs.</p><p>For example, let's say you have a VM with 8 vCPUs and a peak memory usage of 50%. When aggressive downsizing is configured with no CPU rightsizing buffer, Commander would recommend an immediate downsize to 4 vCPUs. But you might want to leave a little wiggle room. If you set a CPU buffer of 20%, Commander would recommend downsizing to 6 vCPUs instead (50% peak usage times 8 vCPU times 120% = 4.8 vCPUs, which is rounded up to 6 vCPUs, since only an even number of CPUs is allowed).</p><p>When aggressive rightsizing is configured, the formula for memory downsizing is:</p><p class="code">(Peak Memory % * Mem (GB)) * Buffer</p><p>For example, let's say you have a VM with 8 GB memory and a peak memory usage of 50%. When aggressive downsizing is configured with no memory rightsizing buffer, Commander would recommend an immediate downsize to 4 GB. But you might want to leave a little wiggle room. If you set a memory buffer of 20%, Commander would recommend downsizing to 5 GB instead (50% peak usage times 8 GB memory times 120% = 4.8 GB, which is rounded up to 5 GB).</p><h2 id="Howconfigurationchangesaffectexistingrecommendations" data-magellan-target="Howconfigurationchangesaffectexistingrecommendations"><a name="existing_recs"></a>How configuration changes affect existing recommendations</h2><p>When you change a rightsizing group's configuration, existing recommendations for VMs in that group are rescinded, and new recommendations are generated with the next nightly VM performance update.</p><p>If you move a VM to a different rightsizing group, existing recommendations for that VM are rescinded, and new recommendations are generated (if necessary) with the next nightly VM performance update.</p><p>If a VM was excluded from recommendations, this setting is preserved when the VM is moved to a different rightsizing group.</p><p>If you want to generate new recommendations immediately, you can <a href="performance.htm#update_performance" class="hreflinks">manually update VM performance data</a>.</p><h2 id="Tasksforconfiguringrightsizingrules" data-magellan-target="Tasksforconfiguringrightsizingrules"><a name="tasks"></a>Tasks for configuring rightsizing rules</h2><p>If you want to customize a single set of rightsizing rules for your entire virtual infrastructure, continue to <a href="#customize_rules" class="MCXref xref">Customize VM rightsizing rules</a>.</p><p>If you want to set up distinct rules for different workloads or parts of your infrastructure, the steps are:</p><ol><li value="1">Create and configure one or more rightsizing groups. See <a href="#customize_rules" class="MCXref xref">Customize VM rightsizing rules</a>.</li><li value="2">Assign existing VMs to the proper rightsizing group. See <a href="#apply" class="MCXref xref">Assign existing VMs to a rightsizing group</a>.</li><li value="3">Assign new VMs to the proper rightsizing group. See <a href="#group_new_vms" class="MCXref xref">Set the rightsizing group for new VMs</a>.</li></ol><h2 id="CustomizeVMrightsizingrules" data-magellan-target="CustomizeVMrightsizingrules"><a name="customize_rules"></a>Customize VM rightsizing rules</h2><p>Rightsizing groups are used to configure the rules for VM rightsizing. By default, all VMs are assigned to the default rightsizing group. You can customize the rules for the default rightsizing group. To configure distinct sets of rules, create one or more rightsizing groups and configure the rules as required.</p><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/AccessAndAvailability.css');" class="TableStyle-AccessAndAvailability" cellspacing="0"><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Access:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Configuration &gt; Groups &gt; Rightsizing</p></td></tr><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Available to:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Commander Roles of Superuser and Enterprise Admin</p></td></tr></table><ol><li value="1">Do one of the following:</li><ul><li>If you want to customize the rules for the default rightsizing group, on the Rightsizing page select the default rightsizing group, and click <b>Edit</b>.</li><li>If you want to create distinct rightsizing rules for different parts of your infrastructure, or for different workload types, create a new group. On the Rightsizing page, click <b>Add</b>.
                    <p class="tip">You can copy a set of rightsizing rules by selecting a group in the list and clicking <b>Copy</b>.</p></li></ul><li value="2"><a name="name"></a>In the Rightsizing Group wizard, enter a name (100 character limit) and an optional description (1000 character limit).<p class="Note">Give the group a descriptive name so that it makes sense to service owners viewing the service's Rightsizing Group property, and so that administrators can easily choose the proper group when required.</p></li><li value="3"><a name="general"></a>On the <b>General</b> page:</li><ul><li>Set the <b>Sample Size</b> and <b>Sample Period</b>.
                    <p>To ensure that Commander makes accurate recommendations, recommendations are generated only if a VM has a sufficient number of performance samples (the Sample Size) within the Sample Period. Performance samples are taken whenever performance data is updated as part of the nightly performance update. The VM must be powered on for performance to be updated, but it doesn't need to be powered on continuously.</p><p>By default, Commander must have at least seven days of performance samples within the last 30 days to generate recommendations for a VM.</p><p>For example, if you only want Commander to generate recommendations for VMs that have continuous performance samples (meaning that no days are missed), set <b>Sample Size</b> and <b>Sample Period</b> to the same value.</p><p>If you think there's a danger that recommendations based on only a week's worth of data might be based on performance spikes, increase the Sample Size. This ensures that the average values are based on a greater number of samples.</p></li></ul><ul><li><a name="aggressive"></a><a name="conservative"></a>If you want to aggressively downsize the VMs in this group, so that Commander recommends immediate downsizing to the optimal CPU and/or memory level, select <b>Aggressive</b>. This setting works well especially for very large VMs. If you want to gradually downsize CPU and memory in multiple steps, select <b>Conservative</b>.
                    <p class="Note">Aggressive rightsizing applies only to GCP, vCenter and SCVMM VMs. For GCP, aggressive rightsizing applies to custom machine types, not predefined instance types.</p></li></ul><ul><li><a name="migration"></a>Choose whether to maintain rightsizing recommendation after a VM is migrated.
                    <p>By default, downsizing recommendations persist after VM migration, but upsizing recommendations are rescinded after VM migration.</p><p>When Commander is configured to rescind a recommendation after VM migration, a new recommendation isn't generated until the required number of performance samples are collected within the configured sample period. This is because the VM's CPU ready history and the VM's memory ballooning history reflect congestion on the old host, not the new one.</p><p>Because downsizing recommendations don't depend on any attributes of the host system, you can typically ignore migration with respect to downsizing, and preserve the default setting. However, if you want Commander to rescind downsizing recommendations after VM migration, disable Downsizing recommendations persist. If you want upsizing recommendations to persist after VM migration, enable Upsizing recommendations persist.</p></li></ul><li value="4"><a name="cpu"></a>On the <b>CPU Changes</b> page, adjust the settings as required.
                <p>The default settings are as follows:
</p><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Standard.css');" class="TableStyle-Standard" cellspacing="0"><thead><tr class="TableStyle-Standard-Head-Header1"><th class="TableStyle-Standard-HeadE-Regular-Header1"><p>Recommendation Type</p></th><th class="TableStyle-Standard-HeadE-Regular-Header1"><p>Upsize when...</p></th><th class="TableStyle-Standard-HeadD-Regular-Header1"><p>Unless...</p></th></tr></thead><tbody><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>CPU Upsize</p></td><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>VM CPU: Average &gt; 75%</p><p>AND</p><p>VM CPU: Peak &gt; 90%</p></td><td class="TableStyle-Standard-BodyD-Regular-Row1"><p>VM CPU Ready Average &gt; 5%</p><p>OR</p><p>Host can't support the recommended number of CPUs</p></td></tr><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyB-Regular-Row1"><p>CPU Downsize</p></td><td class="TableStyle-Standard-BodyB-Regular-Row1"><p>VM CPU: Average &lt; 38%</p><p>AND</p><p>VM CPU: Peak &lt; 45%</p></td><td class="TableStyle-Standard-BodyA-Regular-Row1"><p>—</p></td></tr></tbody></table><p>If you don't want VMs to be downsized below a certain level, enable <b>Minimum Recommended CPU</b> and enter a value for <b>vCPU</b>.</p><p><a name="cpu_buffer"></a>If you selected <b>Aggressive</b> on the General page, you can set a buffer for CPU downsizing. See <a href="#formulas" class="MCXref xref">Rightsizing recommendation formulas</a> above to learn how this buffer affects recommendations.</p></li><li value="5"><a name="memory"></a>On the <b>Memory Changes</b> page, adjust the memory settings as required.
                <p class="Note">Guest memory settings have no effect unless you have <a href="perf_integration.htm" class="hreflinks">integrated with Splunk</a>.</p><p>The default settings are as follows:
</p><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Standard.css');" class="TableStyle-Standard" cellspacing="0"><thead><tr class="TableStyle-Standard-Head-Header1"><th class="TableStyle-Standard-HeadE-Regular-Header1"><p>Recommendation Type</p></th><th class="TableStyle-Standard-HeadE-Regular-Header1"><p>Upsize when...</p></th><th class="TableStyle-Standard-HeadD-Regular-Header1"><p>Unless...</p></th></tr></thead><tbody><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>Memory Upsize</p></td><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>VM Memory: Peak &gt; 90%</p><p>OR</p><p>Guest Memory: Peak &gt; 90%</p><p>OR</p><p>Guest Memory Paging: Peak &gt; 30 pages out/sec</p></td><td class="TableStyle-Standard-BodyD-Regular-Row1"><p>Guest Memory Paging: Average &lt; 20 pages out /sec</p><p>OR</p><p>VM Memory Ballooning: Average &gt; 10% of VM memory</p><p>OR</p><p>VM memory &gt; 1 TB</p></td></tr><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyB-Regular-Row1"><p>Memory Downsize</p></td><td class="TableStyle-Standard-BodyB-Regular-Row1"><p>VM Memory: Peak &lt; 60%</p><p>OR</p><p>Guest Memory: Peak &lt; 60%</p></td><td class="TableStyle-Standard-BodyA-Regular-Row1"><p>—</p></td></tr></tbody></table><p><a name="memory_buffer"></a>If you selected <b>Aggressive</b> on the General page, you can set a buffer for memory downsizing. See <a href="#formulas" class="MCXref xref">Rightsizing recommendation formulas</a> to learn how this buffer affects recommendations.</p></li><li value="6"><a name="automated_rightsizing_setup"></a>On the <b>Automation</b> page:
			<p>If you want Commander to automatically apply upsizing recommendations for this group, enable <b>Upsizing recommendations (increases costs)</b>.</p><p>If you want Commander to automatically apply downsizing recommendations for this group, enable <b>Downsizing recommendations (decreases costs)</b></p><p>Specify how automated rightsizing recommendations are applied:<ul><li><b>Submit change request</b> is the recommended method, so that requests are fully governed and auditable.<p class="Note">Completion workflows for automated rightsizing change requests must have a Global assignment.</p></li><li><b>Apply in maintenance window</b> means that recommendations will be automatically scheduled to be applied in the VM's maintenance window.</li><li><b>Apply immediately</b> means that recommendations will be automatically applied immediately, resulting in a power-down and restart if required.</li></ul></p><p class="Note">If you change the automation settings for an existing group, any active recommendations for VMs in this group will be automatically applied using the selected method.</p></li><li value="7"><a name="summary"></a>On the <b>Summary</b> page, review your settings, then click <b>Finish</b>.</li></ol><h2 id="AssignexistingVMstoarightsizinggroup" data-magellan-target="AssignexistingVMstoarightsizinggroup"><a name="apply"></a>Assign existing VMs to a rightsizing group</h2><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/AccessAndAvailability.css');" class="TableStyle-AccessAndAvailability" cellspacing="0"><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Access:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Views &gt; Inventory &gt; Infrastructure  &gt; Virtual Machines tab</p><p>or </p><p>Views &gt; Inventory &gt; Applications &gt; Virtual Machines tab</p></td></tr><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Available to:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Commander Roles of Superuser and Enterprise Admin</p><p>Operator or higher access rights on the VM</p></td></tr></table><ol><li value="1">In the <b>Infrastructure </b>or<b> Applications</b> view, display the VMs in the Virtual Machines tab. You can perform a <a href="basic_searches.htm" class="hreflinks">quick search</a> or <a href="advanced_search_using_filters.htm" class="hreflinks">advanced search</a> to locate the VMs.</li><li value="2">Select the VMs, right-click, and choose <b>Configuration Management &gt; Set Rightsizing Group</b>.</li><li value="3">In the Set Rightsizing Group dialog, select a group and click <b>OK</b>.</li></ol><p>See also <a href="rightsizing.htm#rtsize_group" class="MCXref xref">View VM rightsizing groups</a>. </p><h2 id="SettherightsizinggroupfornewVMs" data-magellan-target="SettherightsizinggroupfornewVMs"><a name="group_new_vms"></a><a name="best_practice"></a>Set the rightsizing group for new VMs</h2><p><a name="policy"></a><a name="workflow"></a><a name="catalog"></a>There are three ways to set the rightsizing group when a VM is deployed: </p><ul><li>the service catalog</li><li>completion workflows</li><li>policies</li></ul><p>See <a href="groups_vm.htm#assign-new-services" class="MCXref xref">Guidance for assigning groups to new services</a> to learn which method is best for your situation.</p><h2 id="Deleterightsizinggroups" data-magellan-target="Deleterightsizinggroups"><a name="delete"></a>Delete rightsizing groups</h2><p>When you delete a rightsizing group, its members are automatically reassigned to the default rightsizing group. It's not possible to delete the default rightsizing group, but you can <a href="#disable" class="hreflinks">disable rightsizing recommendations</a>.</p><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/AccessAndAvailability.css');" class="TableStyle-AccessAndAvailability" cellspacing="0"><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Access:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Configuration &gt; Groups &gt; Rightsizing</p></td></tr><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Available to:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Commander Roles of Superuser and Enterprise Admin</p></td></tr></table><p>To delete a rightsizing group:</p><ol><li value="1">In the <b>Rightsizing Groups</b> list, select a rightsizing group.</li><li value="2">Click <b>Delete</b>.</li><li value="3">Click <b>Yes</b> to confirm the deletion.</li></ol><h2 id="DisablerightsizingrecommendationsforsomeorallVMs" data-magellan-target="DisablerightsizingrecommendationsforsomeorallVMs"><a name="disable"></a>Disable rightsizing recommendations for some or all VMs</h2><p>Rightsizing groups allow you to specify that certain workloads are never resized (such as a load balancer appliance). You can also disable rightsizing entirely.</p><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/AccessAndAvailability.css');" class="TableStyle-AccessAndAvailability" cellspacing="0"><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Access:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Configuration &gt; Groups &gt; Rightsizing</p></td></tr><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Available to:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Commander Roles of Superuser and Enterprise Admin</p></td></tr></table><p>To exclude a set of VMs from rightsizing recommendations:</p><ol><li value="1">On the Rightsizing Groups page, click <b>Add</b>.</li><li value="2">In the Rightsizing Group wizard, on the <b>Name and Description</b> page, enter a name and an optional description.</li><li value="3">On the General page, clear <b>Enable Recommendations</b>.</li><li value="4">Click <b>Next</b> to advance through the wizard, and on the Summary page, click <b>Finish</b>.</li><li value="5">Assign existing VMs to this rightsizing group. See <a href="#apply" class="MCXref xref">Assign existing VMs to a rightsizing group</a> above.</li><li value="6">Ensure that new VMs with this workload type are assigned to this group. See <a href="#group_new_vms" class="MCXref xref">Set the rightsizing group for new VMs</a> above.</li></ol><p>To disable rightsizing for a rightsizing group:</p><ol><li value="1">Select a group in the list and click <b>Edit</b>.</li><li value="2">On the General page of the Rightsizing Group wizard, clear <b>Enable Recommendations</b>.</li></ol><p>To completely disable rightsizing, repeat this procedure for all other rightsizing groups. You can also <a href="#delete" class="hreflinks">delete rightsizing groups</a>.</p></div><div><div style="border-top-color: rgb(245, 245, 245); border-top-style: none; border-top-width: 1px; margin-top: 22px;"><br /><div class="buttons popup-container clearfix topicToolbarProxy _Skins_ToolbarSnowDocsBottomLeft mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic;"><div class="button-group-container-left"><button class="button needs-pie previous-topic-button" title="Previous Topic" disabled="true"><div><div role="img" class="button-icon-wrapper" aria-label="Previous Topic"><div class="button-icon"> </div></div></div></button></div></div><div class="buttons popup-container clearfix topicToolbarProxy _Skins_ToolbarSnowDocsBottomRight mc-component nocontent" style="mc-topic-toolbar-items: NextTopic;"><div class="button-group-container-left"><button class="button needs-pie next-topic-button" title="Next Topic" disabled="true"><div><div role="img" class="button-icon-wrapper" aria-label="Next Topic"><div class="button-icon"> </div></div></div></button></div></div><p>&#160;</p><div style="border-top-color: rgb(245, 245, 245); border-top-style: solid; border-top-width: 1px; margin-top: 22px;"><p>&#160;</p></div><p class="footer-logo">Snow Commander <span class="mc-variable General.VersionShort variable">9.6</span> documentation</p><p class="footer-logo"><img src="../Resources/Images/copyright-regular-8.svg" /> <span class="mc-variable General.Year variable">2024</span> <span class="mc-variable General.CompanyName variable">Snow Software</span>&#160;&#160;&#160;Last modified: <span class="mc-variable General.ISOShortDate variable">2024-05-21</span>&#160;&#160;&#160;<span style="color: #FFF;" class="mc-variable System.ShortTime variable">7:04 PM</span></p><p class="footer-logo"><a class="footer-links-herschel" href="https://www.snowsoftware.com/legal/termsofuse" target="_blank" data-mc-conditions="General.ForWebOnly">Terms of use</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="https://www.snowsoftware.com/seo/legal-privacy-policy" target="_blank" data-mc-conditions="General.ForWebOnly">Privacy policy</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="https://www.snowsoftware.com/legal/dataprotection" target="_blank">Data protection</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="https://go.snowsoftware.com/subscription-center.html" target="_blank">Subscription&#160;center</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="https://community.snowsoftware.com/s" target="_blank">Community</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="mailto:docsportal-feedback@snowsoftware.com" target="_blank">Docs Feedback</a></p><p><span class="hide-when-mobile"><span style="color: #ffffff;" class="mc-variable System.ShortDate variable">5/21/2024</span>&#160;&#160;<span style="color: #ffffff;" class="mc-variable System.ShortTime variable">7:04 PM</span>&#160;&#160;<span style="color: #ffffff;" class="mc-variable General.Version variable">9.6.3</span></span></p></div></div></div>
                                        <div class="column2">
                                            <div data-sticky-container="" id="wMfta1EOFUKegZBTfDsWjQ">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="wMfta1EOFUKegZBTfDsWjQ:top" data-bottom-anchor="contentBody:bottom" data-scroll-container=".body-container" data-sticky-on="only screen and (min-width: 901px)" data-scroll-container-on="only screen and (min-width: 901px)">
                                                    <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 901px)" class="nocontent menu _Skins_SideMenuWithInThisTopicColumn mc-component">
                                                        <li><a href="#ConfigureRulesforVMRightsizing">Configure Rules for VM Rightsizing</a>
                                                        </li>
                                                        <ul>
                                                            <li><a href="#Rightsizingrecommendationformulas">Rightsizing recommendation formulas</a>
                                                            </li>
                                                            <li><a href="#Howconfigurationchangesaffectexistingrecommendations">How configuration changes affect existing recommendations</a>
                                                            </li>
                                                            <li><a href="#Tasksforconfiguringrightsizingrules">Tasks for configuring rightsizing rules</a>
                                                            </li>
                                                            <li><a href="#CustomizeVMrightsizingrules">Customize VM rightsizing rules</a>
                                                            </li>
                                                            <li><a href="#AssignexistingVMstoarightsizinggroup">Assign existing VMs to a rightsizing group</a>
                                                            </li>
                                                            <li><a href="#SettherightsizinggroupfornewVMs">Set the rightsizing group for new VMs</a>
                                                            </li>
                                                            <li><a href="#Deleterightsizinggroups">Delete rightsizing groups</a>
                                                            </li>
                                                            <li><a href="#DisablerightsizingrecommendationsforsomeorallVMs">Disable rightsizing recommendations for some or all VMs</a>
                                                            </li>
                                                        </ul>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="scrollup" style="margin-bottom: 0px; margin-left: 17px;"><a id="scrollup" style="cursor: pointer;">Scroll</a>
                                    </p>
                                    <p>
                                        <!-- This referenced snippet allows an alt text statement to be included for the logo/go-home button on the top of each page -->
                                        <script>/*<![CDATA[*/$(document).ready(function(){
   $('a.logo').attr({
     alt: 'Snow Docs Home',
     title: 'Snow Docs Home'
   });
});/*]]>*/</script>
                                    </p>
                                    <script type="text/javascript">/*<![CDATA[*/if ($(".sticky-menu > ul").children("ul").length == 0){
        $(".sticky-menu > ul").css("visibility", "hidden");
    }/*]]>*/</script>
                                    <script defer="defer" src="../Resources/Scripts/scroll_to_top_left_nav.js" type="text/javascript">
                                    </script>
                                    <script type="text/javascript">/*<![CDATA[*/$("#home-link").prependTo("div.MCBreadcrumbsBox_SnowDocs_0");/*]]>*/</script>
                                    <script type="text/javascript" src="../Resources/Scripts/fa_ext_link.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>