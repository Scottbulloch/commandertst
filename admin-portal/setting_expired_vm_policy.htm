<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation_Skin_SnowDocs" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="Admin Portal|[%=System.LinkedTitle%]" data-mc-conditions="General.NotForSPBuildHelp" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <meta http-equiv="Content-Style-Type" content="text/css" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" /><title>Manage Expired Services Through Policies</title>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <meta charset="utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Styles.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/fontAwesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/Stylesheets/roboto.font.css" rel="stylesheet" type="text/css" />
        <style>*
{
	box-sizing: border-box;
}

/* Create two columns that float next to each other */

.column
{
	
}

.column2
{
	
}

/* Clear floats after the columns */

.row:after
{
	content: "";
	display: table;
	clear: both;
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE.htc');
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.home-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/home-fa-18w.png') no-repeat center center, linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE.htc');
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE.htc');
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.next-topic-button
{
	-pie-background: linear-gradient(transparent, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE.htc');
}

</style>
        <link href="../Resources/TableStyles/AccessAndAvailability.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/TableStyles/Standard.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-L05Y74KND5" async="async">
        </script>
        <script>/*<![CDATA[*/  window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

		gtag('config', 'G-L05Y74KND5');/*]]>*/</script>
        <script defer="defer" src="../Resources/Scripts/scroll_to_top_left_nav.js" type="text/javascript">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 900px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://docs.snowsoftware.com" title="Docs Portal Home" alt="Docs Portal Home"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="All Commander Docs" title="All Commander Docs" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Commander Docs</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div style="width: 100%; overflow: hidden;"><span class="hide-when-mobile"><div><div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBarPrint mc-component nocontent" style="mc-topic-toolbar-items: Print;"><div class="button-group-container-left"><button class="button needs-pie print-button" title="Print this page"><div><div role="img" class="button-icon-wrapper" aria-label="Print"><div class="button-icon"> </div></div></div></button></div></div><a href="/commander/index.htm"><div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBarHome mc-component nocontent" style="mc-topic-toolbar-items: Home;"><div class="button-group-container-left"><button class="button needs-pie home-button" title="Commander Docs Home"><div><div role="img" class="button-icon-wrapper"><div class="button-icon"> </div></div></div></button></div></div></a></div><div style="float: right; padding-right: 25px; padding-left: 25px;"><a href="https://www.snowsoftware.com" target="_blank" style="font-size: 11px; color: #606f7b;">snowsoftware.com</a>&#160;&#160;&#160;</div></span><span id="home-link"><a style="font-size: 11px;font-style: normal;color: #606f7b;" href="../index.htm">Commander</a> / </span>
                                        <div class="nocontent">
                                            <div class="MCBreadcrumbsBox_SnowDocs_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="column"> <div role="main" id="mc-main-content"><h1 id="ManageExpiredServicesThroughPolicies" data-magellan-target="ManageExpiredServicesThroughPolicies"><a name="aanchor87"></a><MadCap:concept term="Admin Portal" />Manage Expired Services Through Policies</h1><p>An Expiry Policy allows you to identify and control services based on their expiry date, to ensure that you're not paying for unused services. For example, you can automatically decommission expired services.</p><h2 id="Setupsteps" data-magellan-target="Setupsteps"><a name="overview"></a>Set up steps</h2><p>The steps to setting up an Expiry Policy are: </p><ol><li value="1">Set expiry information for existing services, as explained in <a href="manage-service-expirations.htm" class="MCXref xref">Manage Service Expirations</a>.</li><li value="2"><a href="#create_group">Create expiry groups</a>.
Expiry groups are used as targets for the Expiry Policy.
                <p class="Note">If you don't create additional expiry groups, the Expiry Policy automatically applies to the default group, which contains all services.</p></li><li value="3"><a href="#add_to_group">Assign existing services</a> to the expiry groups.</li><li value="4"><a href="#new-vms">Set the expiry group for new services</a>.</li><li value="5"><a href="#configure_policy">Configure the Expiry Policy</a> for each expiry group.</li><li value="6"><a href="receiving_emails_about_policy.htm" class="hreflinks">Configure who receives email alerts about service expiry</a>.</li></ol><h3><a name="templates"></a>How an Expiry Policy affects templates</h3><p>An Expiry Policy changes the expiry state for templates, but policy actions (for example, deletion) aren't performed for templates.</p><p>Create an expiry group for templates and ensure that this expiry group isn't affected by the Expiry Policy. In this way, when you convert a template to a VM to apply a patch, for example, the VM won't be deleted by the Expiry Policy.</p><p class="caution">If you attempt to deploy a VM from a template in the Expired state, the deployment will fail.</p><h2 id="Createexpirygroups" data-magellan-target="Createexpirygroups"><a name="create_group"></a>Create expiry groups</h2><p>You can create your own expiry groups, so that you can configure different expiry policy actions for different sets of services. All services are automatically a member of the Default Expiry Group until you reassign them to another group.</p><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/AccessAndAvailability.css');" class="TableStyle-AccessAndAvailability" cellspacing="0"><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Access:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Configuration &gt; Groups &gt; Expiry</p></td></tr><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Available to:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Commander Role of Superuser and Enterprise Admin</p><p>Administrator Access Rights</p></td></tr></table><ol><li value="1">On the Expiry Groups page, click <b>Add</b>.</li><li value="2">In the Add Group dialog, enter a name for the expiry group.
                <p class="tip">Give the group a descriptive name so that it makes sense to service owners viewing the service's <a href="properties-reference.htm#expiry_group" class="hreflinks">Expiry Group property</a>, and so that administrators can easily set the proper group when required.</p></li><li value="3">In the <b>Description</b> field, enter details about the expiry group.</li><li value="4">Click <b>OK</b>.</li></ol><h2 id="Addexistingservicestoexpirygroups" data-magellan-target="Addexistingservicestoexpirygroups"><a name="add_to_group"></a>Add existing services to expiry groups</h2><p>In Commander, services are automatically assigned to a default expiry group. You can easily add one or more services to your own predefined expiry group.
        Expiry groups apply to all service types — VMs, virtual services, application stacks, databases, load balancers and auto scaling groups.</p><p>If you move a service from one infrastructure element to another, any group name and any expiry information you assigned to that service remain with it, so check the service and make any changes that are appropriate.</p><p>All VMs in a virtual service should belong to the same expiry group.</p><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/AccessAndAvailability.css');" class="TableStyle-AccessAndAvailability" cellspacing="0"><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Access:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Views &gt; Inventory &gt; Infrastructure, Applications, or Storage</p></td></tr><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Available to:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Administrator and All Operator Levels of Access Rights</p></td></tr></table><ol><li value="1">Select the service from the tree or the <b>Virtual Machines</b> tab.</li><li value="2">Right-click and choose <b>Lifecycle Management</b> (or <b>Policy Enforcement</b>) <b>&gt; Set Expiry Group</b>.</li><li value="3">Select the appropriate expiry group and click <b>OK</b>.
                <p>The group name is displayed on the Infrastructure pane of the service's Summary tab.</p></li></ol><h2 id="Setexpirygroupsfornewservices" data-magellan-target="Setexpirygroupsfornewservices"><a name="new-vms"></a>Set expiry groups for new services</h2><p><a name="best_practice"></a><a name="blueprint"></a><a name="workflow"></a><a name="policy"></a>There are three ways to set the expiry group when a service is deployed: </p><ul><li>the service catalog</li><li>completion workflows</li><li>policies</li></ul><p>To learn which method is best for your situation, see <a href="groups_vm.htm#assign-new-services" class="MCXref xref">Guidance for assigning groups to new services</a>.
</p><h2 id="ConfigureExpiryPolicies" data-magellan-target="ConfigureExpiryPolicies"><a name="configure_policy"></a>Configure Expiry Policies</h2><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/AccessAndAvailability.css');" class="TableStyle-AccessAndAvailability" cellspacing="0"><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Access:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Configuration &gt; Policies</p></td></tr><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Available to:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Commander Role of Superuser and Enterprise Admin</p><p>Administrator Access Rights</p></td></tr></table><ol><li value="1">On the Configuration page, click <b>Add</b>.</li><li value="2">On the Choose a Policy page of the Policy configuration wizard, select <b>Expiry</b> from the list of policies.</li><li value="3"><a name="name_description"></a>On the Policy Name/Description page, enter a name, for example, "Expiry Policy for Production", and an optional description.</li><li value="4"><a name="choose_target"></a>On the Choose a Target page, select the expiry group from the list of group names.</li><ul><li>If you want the policy to run on all services that haven't been assigned to another expiry group, select <b>Default Expiry Group</b>.</li><li>If required, expand the Infrastructure tree in the dialog and select the infrastructure element to which you want to apply this Expiry Policy.</li></ul><li value="5"><a name="config_policy_page"></a>On the Configure the Policy page, to enable the policy as soon as you've completed this wizard, make sure <b>Enabled</b> is checked.</li><li value="6">Specify actions to take place before, on, or after the expiry date, and specify how long before the expiry date, or how long after the expiry date, these actions should occur.</li><li value="7">From each of the <b>Take Action</b> menus, select from the options. Note that not all actions are valid for all service types.
                <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Standard.css');" class="TableStyle-Standard" cellspacing="0"><thead><tr class="TableStyle-Standard-Head-Header1"><th class="TableStyle-Standard-HeadE-Regular-Header1"><p>Option:</p></th><th class="TableStyle-Standard-HeadD-Regular-Header1"><p>Result:</p></th></tr></thead><tbody><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>Quarantine</p></td><td class="TableStyle-Standard-BodyD-Regular-Row1"><p>The VM is quarantined.</p><p>Note: If you include this action in a policy targeting services in a cloud account other than vCenter, the action will fail.</p></td></tr><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>Suspend</p></td><td class="TableStyle-Standard-BodyD-Regular-Row1"><p>The VM is suspended (saved in its current state).</p><p>Not supported for VMs in public cloud accounts. If you include this action in a policy targeting services in a public cloud account, the action will fail.</p></td></tr><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>Stop</p></td><td class="TableStyle-Standard-BodyD-Regular-Row1"><p>The Guest OS is shut down. You can set the service to stop on all three instances. However, the first instance that you choose is the one on which the service stops.</p></td></tr><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>Remove from Inventory</p></td><td class="TableStyle-Standard-BodyD-Regular-Row1"><p>The VM is removed from inventory. Note that the file remains in the datastore.</p><p>When all VMs are deleted from a virtual service through a policy action (that is, when VMs are deleted by a policy action or by a command workflow attached to the Expiry Policy), the empty virtual service isn't automatically deleted unless it too is targeted by policy.</p><p class="Note">If you include this action in a policy targeting services in a cloud account other than vCenter, the action will fail.</p></td></tr><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>Set State as EOL</p></td><td class="TableStyle-Standard-BodyD-Regular-Row1"><p>The End of Life option for the VM and its associated files is set to True. If an <a href="end_of_life_policy.htm" class="hreflinks">End of Life Policy</a> is enabled for the VM, the End of Life policy will be triggered. Affects only VMs and virtual services.</p></td></tr><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyE-Regular-Row1"><p>Delete from Disk</p></td><td class="TableStyle-Standard-BodyD-Regular-Row1"><p>The service and its associated files are deleted permanently from disk. No other options can be carried out on this service after it's deleted.</p><p>When you delete a VM or template from the disk, the files are permanently deleted. They can't be recovered unless you have a backup copy.</p><p>When all VMs are deleted from a virtual service through a policy action (that is, when VMs are deleted by a policy action or by a command workflow attached to the Expiry Policy), the empty virtual service isn't automatically deleted unless it too is targeted by policy.</p></td></tr><tr class="TableStyle-Standard-Body-Row1"><td class="TableStyle-Standard-BodyB-Regular-Row1"><p>Run [Workflow]</p></td><td class="TableStyle-Standard-BodyA-Regular-Row1"><p>Existing <a href="set_up_service_workflow.htm" class="hreflinks">command workflows</a> appear for selection, organized by target type. If the policy is triggered, the selected workflow is run.</p><p class="Note">You must choose a workflow with a target type that matches the target of the policy; otherwise, the workflow will fail. For example, if the selected workflow's target type is "VM", the workflow will fail if the policy targets a database. A workflow with a target type of "Any Inventory Type" can be run on all service types.</p></td></tr></tbody></table></li><li value="8">Click <b>Add Workflow</b> to set up a new <a href="set_up_service_workflow.htm" class="hreflinks">command workflow</a>.</li><li value="9">Specify a number of days before the expiry date (default: 7) and after the expiry date (default: 30) when the selected action will be triggered.
           
                <p class="Note">A service has the Expired state between the expiry date and the last trigger date you configure. A service has the Post Expiry state if it continues to exist after the last trigger date. For example, if you keep the default setting of 30 days after the expiry date, a service that continues to exist after 30 days has the Post Expiry state.</p></li><li value="10"><a name="expiry_extension"></a>On the Expiry Extension page, you can allow primary owners to extend the expiry date of a service.
                <p>When you enable this feature, if a service has a primary owner with an email address, the expiry email that the primary owner receives will contain an Extend Expiry Date section, with a link:
        </p><p><img alt="Expiry Extension Email" title="Expiry Extension Email" style="height: auto;max-width: 99.99%;width: auto;" src="Images/expiry-extension-email.png" /></p><p>As soon as the user clicks the link in the email, the expiry date is automatically extended by the number of days you specify in this step:</p><p><img alt="expiry_extension" src="Images/expiry_extension.png" style="max-width: 99%;" /></p><p class="Note">Another way to allow service expiry extension is through a change request. If you add the Expiry Date element to the Service Change Request form, users can submit a change request to extend the expiry date. The benefit of change requests is that you can configure an approval process. For more information, see <a href="change-request-form-elements.htm" class="MCXref xref">Change Request Form Elements</a>.</p><p>When you enable expiry extension:
			</p><ul><li>Specify the number of days that the expiry date will be extended. The default is 90.</li><li>Specify the maximum number of extensions that the user is allowed. If you don't specify a value, the user will be able to extend the expiry date an unlimited number of times. The default is unlimited.</li><li>If you want to change the service's approval state when the expiry date is extended, select Set to unapproved from the Approval state will be drop-down menu. By default, the approval state will be Unchanged.<p class="Note">You can view and reset the number of expiry extensions remaining for a service. See <a href="manage-service-expirations.htm#exp_ext_view" class="hreflinks">Managing Service Expiry</a>.</p></li></ul></li><li value="11"><a name="notifications"></a>On the Notifications page:<ol><li value="1">Select the owners to whom notification emails should be sent when the Expiry policy is triggered.
           
                <p class="Note">Owners receive emails about the Expiry Policy only if their email address has been configured. For more information about setting up owners, see <a href="resource-and-service-ownership.htm" class="MCXref xref">Resource and Service Ownership</a>.</p><p>Configure service owners to <a href="receiving_emails_about_policy.htm" class="hreflinks">receive expiry alerts by email</a> for their services.</p></li></ol><ol data-mc-continue="true"><li value="2">Customize the email subject and body.
            <p class="tip">In any text field that supports variables, click <span class="f_Icons_Inline"></span> to open the script editor and select variables for the current context.</p></li></ol></li><li value="12"><a name="review_exp_policy"></a>On the Summary page, if you've enabled the policy and as a result, any services will be immediately affected by it, Commander displays the number of affected services.
                <p>To see what services are affected by the policy actions you selected, click <b>Review</b>, then click <b>OK</b> to return to the summary.</p></li><li value="13">Click <b>Finish</b>.</li></ol><h2 id="Deleteexpirygroups" data-magellan-target="Deleteexpirygroups"><a name="delete_group"></a>Delete expiry groups</h2><table style="width: 100%;mc-table-style: url('../Resources/TableStyles/AccessAndAvailability.css');" class="TableStyle-AccessAndAvailability" cellspacing="0"><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Access:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Configuration &gt; Groups &gt; Expiry</p></td></tr><tr class="TableStyle-AccessAndAvailability-Body-Body1"><td class="TableStyle-AccessAndAvailability-BodyE-Column1-Body1"><p><b>Available to:</b></p></td><td class="TableStyle-AccessAndAvailability-BodyD-Column2-Body1"><p>Administrator Access Rights</p></td></tr></table><p>To delete an expiry group, select the expiry group you want to delete, click <b>Delete</b>, and confirm the deletion.</p><p class="caution">When you delete an expiry group, all services in the group are automatically reassigned to the Default Expiry group. Any policy actions that are set for the default group affect the services in that group. Before deleting an expiry group, check to see what policy actions you've assigned to the Default Expiry group.</p></div><div><div style="border-top-color: rgb(245, 245, 245); border-top-style: none; border-top-width: 1px; margin-top: 22px;"><br /><div class="buttons popup-container clearfix topicToolbarProxy _Skins_ToolbarSnowDocsBottomLeft mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic;"><div class="button-group-container-left"><button class="button needs-pie previous-topic-button" title="Previous Topic" disabled="true"><div><div role="img" class="button-icon-wrapper" aria-label="Previous Topic"><div class="button-icon"> </div></div></div></button></div></div><div class="buttons popup-container clearfix topicToolbarProxy _Skins_ToolbarSnowDocsBottomRight mc-component nocontent" style="mc-topic-toolbar-items: NextTopic;"><div class="button-group-container-left"><button class="button needs-pie next-topic-button" title="Next Topic" disabled="true"><div><div role="img" class="button-icon-wrapper" aria-label="Next Topic"><div class="button-icon"> </div></div></div></button></div></div><p>&#160;</p><div style="border-top-color: rgb(245, 245, 245); border-top-style: solid; border-top-width: 1px; margin-top: 22px;"><p>&#160;</p></div><p class="footer-logo">Snow Commander <span class="mc-variable General.VersionShort variable">9.6</span> documentation</p><p class="footer-logo"><img src="../Resources/Images/copyright-regular-8.svg" /> <span class="mc-variable General.Year variable">2024</span> <span class="mc-variable General.CompanyName variable">Snow Software</span>&#160;&#160;&#160;Last modified: <span class="mc-variable General.ISOShortDate variable">2024-05-21</span>&#160;&#160;&#160;<span style="color: #FFF;" class="mc-variable System.ShortTime variable">7:04 PM</span></p><p class="footer-logo"><a class="footer-links-herschel" href="https://www.snowsoftware.com/legal/termsofuse" target="_blank" data-mc-conditions="General.ForWebOnly">Terms of use</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="https://www.snowsoftware.com/seo/legal-privacy-policy" target="_blank" data-mc-conditions="General.ForWebOnly">Privacy policy</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="https://www.snowsoftware.com/legal/dataprotection" target="_blank">Data protection</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="https://go.snowsoftware.com/subscription-center.html" target="_blank">Subscription&#160;center</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="https://community.snowsoftware.com/s" target="_blank">Community</a>&#160;&#160;&#160;<a class="footer-links-herschel" href="mailto:docsportal-feedback@snowsoftware.com" target="_blank">Docs Feedback</a></p><p><span class="hide-when-mobile"><span style="color: #ffffff;" class="mc-variable System.ShortDate variable">5/21/2024</span>&#160;&#160;<span style="color: #ffffff;" class="mc-variable System.ShortTime variable">7:04 PM</span>&#160;&#160;<span style="color: #ffffff;" class="mc-variable General.Version variable">9.6.3</span></span></p></div></div></div>
                                        <div class="column2">
                                            <div data-sticky-container="" id="yUwV9VPMhkWnUQptkmIgzg">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="yUwV9VPMhkWnUQptkmIgzg:top" data-bottom-anchor="contentBody:bottom" data-scroll-container=".body-container" data-sticky-on="only screen and (min-width: 901px)" data-scroll-container-on="only screen and (min-width: 901px)">
                                                    <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 901px)" class="nocontent menu _Skins_SideMenuWithInThisTopicColumn mc-component">
                                                        <li><a href="#ManageExpiredServicesThroughPolicies">Manage Expired Services Through Policies</a>
                                                        </li>
                                                        <ul>
                                                            <li><a href="#Setupsteps">Set up steps</a>
                                                            </li>
                                                            <li><a href="#Createexpirygroups">Create expiry groups</a>
                                                            </li>
                                                            <li><a href="#Addexistingservicestoexpirygroups">Add existing services to expiry groups</a>
                                                            </li>
                                                            <li><a href="#Setexpirygroupsfornewservices">Set expiry groups for new services</a>
                                                            </li>
                                                            <li><a href="#ConfigureExpiryPolicies">Configure Expiry Policies</a>
                                                            </li>
                                                            <li><a href="#Deleteexpirygroups">Delete expiry groups</a>
                                                            </li>
                                                        </ul>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="scrollup" style="margin-bottom: 0px; margin-left: 17px;"><a id="scrollup" style="cursor: pointer;">Scroll</a>
                                    </p>
                                    <p>
                                        <!-- This referenced snippet allows an alt text statement to be included for the logo/go-home button on the top of each page -->
                                        <script>/*<![CDATA[*/$(document).ready(function(){
   $('a.logo').attr({
     alt: 'Snow Docs Home',
     title: 'Snow Docs Home'
   });
});/*]]>*/</script>
                                    </p>
                                    <script type="text/javascript">/*<![CDATA[*/if ($(".sticky-menu > ul").children("ul").length == 0){
        $(".sticky-menu > ul").css("visibility", "hidden");
    }/*]]>*/</script>
                                    <script defer="defer" src="../Resources/Scripts/scroll_to_top_left_nav.js" type="text/javascript">
                                    </script>
                                    <script type="text/javascript">/*<![CDATA[*/$("#home-link").prependTo("div.MCBreadcrumbsBox_SnowDocs_0");/*]]>*/</script>
                                    <script type="text/javascript" src="../Resources/Scripts/fa_ext_link.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>